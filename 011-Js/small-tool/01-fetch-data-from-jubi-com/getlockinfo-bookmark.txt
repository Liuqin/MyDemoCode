javascript:(function()%7Bvar requestVersion=new Date().getTime();var newestUrl="http://www.jubi.com/coin/allcoin?t=0.0"+requestVersion;var showDebug=true;getLockInfo();function getLockInfo(){$.getJSON(newestUrl,function(C){var B=[];for(var A in C){B.push({key:A,cnName:C[A][0]})}debugLog(B);getTradeInfo(B,"0",function(D){debugLog(D);showTradeInfo(D)})})}function showTradeInfo(E){$("#div-custom-data").remove();var D=[];var A=0;var C=0;for(var B=0;B<E.length;B++){for(var G=0;G<E[B].tradeData.length;G++){if(E[B].tradeData[G].status=="2"){var F="name="+E[B].cnName+", status="+E[B].tradeData[G].status+", type="+E[B].tradeData[G].type+", "+E[B].tradeData[G].num_total+" x "+E[B].tradeData[G].price+"="+(parseFloat(E[B].tradeData[G].num_total)*parseFloat(E[B].tradeData[G].price)).toFixed(3);D.push(F);if(E[B].tradeData[G].type=="sell"){C+=parseFloat(E[B].tradeData[G].num_total)*parseFloat(E[B].tradeData[G].price)}else{if(E[B].tradeData[G].type=="buy"){A+=parseFloat(E[B].tradeData[G].num_total)*parseFloat(E[B].tradeData[G].price)}}}}}D.push("sumSell="+C.toFixed(3));D.push("sumBuy="+A.toFixed(3));$("<div></div>").prependTo($(document.body)).attr("style","position:fixed;bottom:10px;left:10px;background-color:#205081;color:white;z-index:999999;width:600px;").attr("id","div-custom-data").html(D.join("<br />"))}function getTradeInfo(C,A,E){var D=0;var B=function(F){debugLog(D+"-"+F.key);$.getJSON(getTradeUrl(F.key,A),function(G){F.tradeData=G.data.datas;++D;if(D<=C.length-1){setTimeout(function(){B(C[D])},500)}else{debugLog("finish.");if($.isFunction(E)){E(C)}}})};B(C[D])}function debugLog(A){if(showDebug){console.log(A)}}function getTradeUrl(B,A){var C="http://www.jubi.com/ajax/trade/list/coin/"+B+"/type/"+A+"/status/0?p=1";debugLog(C);return C};%7D)()